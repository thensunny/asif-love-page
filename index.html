<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>For My Love üíñ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #ff4e8b, #a64bf4);
            font-family: 'Segoe UI', sans-serif;
            color: white;
            text-align: center;
            overflow: hidden;
        }

        .card {
            background: rgba(255,255,255,0.15);
            padding: 25px;
            border-radius: 20px;
            width: 90%;
            max-width: 360px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
            z-index: 2;
            transition: all 0.5s ease;
        }

        .card.expanded {
            max-width: 500px;
        }

        .cat img {
            width: 180px;
            height: 150px;
            object-fit: contain;
            margin-bottom: 10px;
            border-radius: 15px;
            transition: all 0.5s ease;
        }

        .cat img.big-gif {
            width: 100%;
            height: auto;
            max-height: 350px;
        }

        #inputSection {
            margin-bottom: 15px;
        }

        input {
            width: 85%;
            padding: 12px;
            border-radius: 20px;
            border: none;
            font-size: 16px;
            margin-top: 10px;
            outline: none;
            color: #333;
        }

        #genBtn {
            background: #ffd1e3;
            color: #b1004b;
            padding: 12px 20px;
            border-radius: 30px;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            width: 90%;
            font-weight: bold;
        }

        .link-box {
            margin-top: 10px;
            font-size: 14px;
            word-break: break-all;
            background: rgba(0,0,0,0.1);
            padding: 10px;
            border-radius: 10px;
        }

        .buttons {
            margin-top: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .action-btn {
            border: none;
            padding: 14px 26px;
            border-radius: 30px;
            font-size: 15px;
            cursor: pointer;
            transition: 0.3s ease;
            width: 220px; /* ‡¶≤‡ßá‡¶ñ‡¶æ ‡¶¨‡ßú ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶£‡ßá ‡¶â‡¶á‡¶°‡¶• ‡¶è‡¶ï‡¶ü‡ßÅ ‡¶¨‡¶æ‡ßú‡¶æ‡¶®‡ßã ‡¶π‡ßü‡ßá‡¶õ‡ßá */
        }

        #yesBtn {
            background: white;
            color: #ff4e8b;
        }

        #noBtn {
            background: #ff4e4e;
            color: white;
        }

        .confetti {
            position: fixed;
            width: 8px;
            height: 8px;
            z-index: 1;
            animation: fall 3s linear forwards;
        }

        @keyframes fall {
            from { transform: translateY(-10vh) rotate(0deg); }
            to { transform: translateY(110vh) rotate(720deg); }
        }
    </style>
</head>
<body>

<div class="card" id="mainCard">
    <div class="cat">
        <img id="catImg" src="https://media.giphy.com/media/mlvseq9yvZhba/giphy.gif">
    </div>

    <h1 id="question">Will you be my Valentine, My Love? üíñ</h1>

    <div id="inputSection">
        <input type="text" id="nameInput" placeholder="Enter her name üíï">
        <button id="genBtn" onclick="generateLink()">Generate Love Link üíå</button>
    </div>
    
    <div class="link-box" id="linkBox" style="display:none;"></div>

    <div class="buttons" id="actionButtons">
        <button id="yesBtn" class="action-btn" onclick="yesClicked()">‚ù§Ô∏è Yes</button>
        <button id="noBtn" class="action-btn" onclick="noClicked()">‚ùå No</button>
    </div>
</div>

<audio id="heartBreak" src="https://assets.mixkit.co/sfx/preview/mixkit-cartoon-crying-heart-break-1116.mp3"></audio>
<audio id="loveMusic" src="https://assets.mixkit.co/music/preview/mixkit-happy-love-song-493.mp3"></audio>

<script>
let wifeName = "My Love";
let noCount = 0;

// ‡¶ï‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶∞ GIF ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü
const cryGifs = [
    "https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExa2s2aXc1aDcxcnVrZmw4bnRiNXRsc2FkY2ZwMjljM2xqejJzdGM5aCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/ORTPDqxMQD4I/giphy.gif",
    "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExam9obnIyeDBvb3BhZnU3NHJsMWw0OXp3dnJuNjMwMDN5cjRnZ2poYyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/lwYxf0qKEjnoI/giphy.gif",
    "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExMnNkdnVyY2NjMWh5dmZ5MWRmbDF2Mnd2a29vcW5sMnN5NGQya3h5aCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/tBC3xo1Dipw5V3rxbq/giphy.gif"
];

// ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü
const noMessages = [
    "Don't do this",
    "I am crying",
    "Please don't do this",
    "You are hurting me...",
    "Why are you doing this? üò≠"
];

document.addEventListener("DOMContentLoaded", () => {
    const params = new URLSearchParams(window.location.search);
    const nameFromUrl = params.get("name");

    if (nameFromUrl) {
        setName(nameFromUrl);
        document.getElementById("inputSection").style.display = "none";
    }
});

function setName(name) {
    wifeName = decodeURIComponent(name).trim().replace(/\b\w/g, c => c.toUpperCase());
    document.title = `For ${wifeName} üíñ`;
    document.getElementById("question").innerText = `Will you be my Valentine, ${wifeName}? üíñ`;
}

function generateLink() {
    const input = document.getElementById("nameInput").value.trim();
    if (!input) {
        alert("Please enter a name!");
        return;
    }
    setName(input);
    let currentUrl = window.location.href.split('?')[0];
    const finalUrl = currentUrl + "?name=" + encodeURIComponent(input);
    const linkBox = document.getElementById("linkBox");
    linkBox.style.display = "block";
    linkBox.innerHTML = `üíù Share this link:<br><a href="${finalUrl}" style="color:white; font-weight:bold;">${finalUrl}</a>`;
    document.getElementById("inputSection").style.display = "none";
}

function noClicked() {
    noCount++;
    document.getElementById("heartBreak").play();
    
    // GIF ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®
    let gifIndex = (noCount - 1) % cryGifs.length;
    document.getElementById("catImg").src = cryGifs[gifIndex];

    // ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® (‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ)
    let msgIndex = (noCount - 1) % noMessages.length;
    document.getElementById("noBtn").innerText = noMessages[msgIndex];
}

function yesClicked() {
    document.getElementById("loveMusic").play();
    document.getElementById("mainCard").classList.add("expanded");
    const gif = document.getElementById("catImg");
    gif.src = "https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif";
    gif.classList.add("big-gif");
    document.getElementById("question").innerText = `Yay! I love you so much, ${wifeName}! üíñ`;
    document.getElementById("actionButtons").style.display = "none";
    document.getElementById("linkBox").style.display = "none";
    for(let i=0; i<50; i++) { createConfetti(); }
}

function createConfetti() {
    const conf = document.createElement('div');
    conf.className = 'confetti';
    conf.style.left = Math.random() * 100 + 'vw';
    conf.style.backgroundColor = '#' + Math.floor(Math.random()*16777215).toString(16);
    conf.style.animationDuration = (Math.random() * 2 + 2) + 's';
    document.body.appendChild(conf);
    setTimeout(() => conf.remove(), 3000);
}
</script>

</body>
</html>

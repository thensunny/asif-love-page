<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For My Love ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
margin: 0;
height: 100vh;
display: flex;
justify-content: center;
align-items: center;
background: linear-gradient(135deg, #ff4e8b, #a64bf4);
font-family: 'Segoe UI', sans-serif;
color: white;
text-align: center;
overflow: hidden;
}

.card {
background: rgba(255,255,255,0.15);
padding: 25px;
border-radius: 20px;
width: 90%;
max-width: 360px;
box-shadow: 0 15px 40px rgba(0,0,0,0.3);
z-index: 2;
}

.cat img {
width: 140px;
margin-bottom: 10px;
}

input {
width: 90%;
padding: 12px;
border-radius: 20px;
border: none;
font-size: 16px;
margin-top: 10px;
outline: none;
}

.link-box {
margin-top: 10px;
font-size: 14px;
word-break: break-all;
}

.buttons {
margin-top: 25px;
position: relative;
height: 150px;
}

button {
border: none;
padding: 14px 26px;
border-radius: 30px;
font-size: 15px;
cursor: pointer;
transition: 0.3s ease;
position: absolute;
}

#genBtn {
background: #ffd1e3;
color: #b1004b;
position: static;
margin-top: 10px;
}

#yesBtn {
background: white;
color: #ff4e8b;
left: 50%;
transform: translateX(-50%) scale(1);
}

#noBtn {
background: #ff4e8b;
color: white;
top: 75px;
left: 50%;
transform: translateX(-50%);
}

.confetti {
position: fixed;
width: 8px;
height: 8px;
animation: fall 3s linear forwards;
}

@keyframes fall {
from { transform: translateY(-10vh) rotate(0deg); }
to { transform: translateY(110vh) rotate(720deg); }
}
</style>
</head>

<body>

<div class="card" id="mainCard">

<div class="cat">
<img id="catImg" src="https://media.giphy.com/media/mlvseq9yvZhba/giphy.gif">
</div>

<h1 id="question">Will you be my Valentine, My Love? ğŸ’–</h1>

<input type="text" id="nameInput" placeholder="Enter her name ğŸ’•">

<button id="genBtn" onclick="generateLink()">
Generate Love Link ğŸ’Œ
</button>

<div class="link-box" id="linkBox"></div>

<div class="buttons">
<button id="yesBtn" onclick="yesClicked()">â¤ï¸ Yes</button>
<button id="noBtn" onclick="noClicked()">âŒ No</button>
</div>

</div>

<audio id="heartBreak" src="https://assets.mixkit.co/sfx/preview/mixkit-cartoon-crying-heart-break-1116.mp3"></audio>
<audio id="loveMusic" src="https://assets.mixkit.co/music/preview/mixkit-happy-love-song-493.mp3"></audio>

<script>

let wifeName = "My Love";
let noCount = 0;
let yesScale = 1;

/* Read name from URL */
document.addEventListener("DOMContentLoaded", () => {

const params = new URLSearchParams(window.location.search);
const name = params.get("name");

if (name) {
setName(name);
document.getElementById("nameInput").value = name;
}

});

/* Set Name */
function setName(name){

wifeName = decodeURIComponent(name)
.trim()
.replace(/\b\w/g, c => c.toUpperCase());

document.title = `For ${wifeName} ğŸ’–`;

document.getElementById("question").innerText =
`Will you be my Valentine, ${wifeName}? ğŸ’–`;

}

/* Generate Link */
function generateLink(){

const input = document.getElementById("nameInput").value.trim();

if(!input){
alert("Please enter her name ğŸ’•");
return;
}

setName(input);

const url =
window.location.origin +
window.location.pathname +
"?name=" +
encodeURIComponent(input);

document.getElementById("linkBox").innerHTML =
`ğŸ’ Share this link:<br>
<a href="${url}" target="_blank" style="color:white">${url}</a>`;

}

/* No Button */
function noClicked(){

noCount++;

document.getElementById("heartBreak").play();

yesScale += 0.1;

document.getElementById("yesBtn").style.transform =
`translateX(-50%) scale(${yesScale})`;

const cat = document.getElementById("catImg");
const noBtn = document.getElementById("noBtn");

if(noCount === 1)
cat.src = "https://media.giphy.com/media/ROF8OQvDmxytW/giphy.gif";

if(noCount === 2)
noBtn.innerText = "Think Again ğŸ˜¢";

if(noCount === 3)
noBtn.innerText = "You are hurting me ğŸ’”";

if(noCount >= 4){
noBtn.innerText = "Okâ€¦ Iâ€™m crying now ğŸ˜­";
cat.src = "https://media.giphy.com/media/OPU6wzx8JrHna/giphy.gif";
}

}

/* Yes Button */
function yesClicked(){

document.getElementById("loveMusic").play();

document.getElementById("mainCard").innerHTML = `
<h1>Yayyy! ğŸ˜ğŸ’–</h1>
<h2>I Love You ${wifeName} ğŸ’•</h2>
<p>You made me the happiest person ğŸ˜˜</p>
`;

createConfetti();

}

/* Confetti Effect */
function createConfetti(){

for(let i=0;i<100;i++){

const confetti = document.createElement("div");

confetti.className = "confetti";

confetti.style.left = Math.random()*100 + "vw";

confetti.style.backgroundColor =
["#ff4e8b","#ffd1e3","#a64bf4","#ffffff"]
[Math.floor(Math.random()*4)];

document.body.appendChild(confetti);

setTimeout(()=>{
confetti.remove();
},3000);

}

}

</script>

</body>
</html>
